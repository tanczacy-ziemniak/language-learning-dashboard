{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const ProgressContext=/*#__PURE__*/createContext();export const useProgress=()=>{return useContext(ProgressContext);};export const ProgressProvider=_ref=>{let{children}=_ref;const[progress,setProgress]=useState(()=>{const savedProgress=localStorage.getItem('language-learning-progress');return savedProgress?JSON.parse(savedProgress):{};});// Save progress to local storage whenever it changes\nuseEffect(()=>{localStorage.setItem('language-learning-progress',JSON.stringify(progress));},[progress]);// Update quiz results\nconst updateQuizResult=(topicId,score,totalQuestions)=>{setProgress(prevProgress=>{const topicProgress=prevProgress[topicId]||{completed:false,scores:[]};return{...prevProgress,[topicId]:{...topicProgress,completed:true,scores:[...topicProgress.scores,{score,totalQuestions,date:new Date().toISOString()}]}};});};// Get topic progress\nconst getTopicProgress=topicId=>{return progress[topicId]||{completed:false,scores:[]};};// Get overall progress\nconst getOverallProgress=topics=>{const totalTopics=topics.length;const completedTopics=topics.filter(topic=>progress[topic.id]&&progress[topic.id].completed).length;return{completedTopics,totalTopics,percentage:totalTopics>0?completedTopics/totalTopics*100:0};};const value={progress,updateQuizResult,getTopicProgress,getOverallProgress};return/*#__PURE__*/_jsx(ProgressContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsx","_jsx","ProgressContext","useProgress","ProgressProvider","_ref","children","progress","setProgress","savedProgress","localStorage","getItem","JSON","parse","setItem","stringify","updateQuizResult","topicId","score","totalQuestions","prevProgress","topicProgress","completed","scores","date","Date","toISOString","getTopicProgress","getOverallProgress","topics","totalTopics","length","completedTopics","filter","topic","id","percentage","value","Provider"],"sources":["C:/Users/ajoon/OneDrive/문서/GitHub/language-learning-dashboard/src/contexts/ProgressContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst ProgressContext = createContext();\r\n\r\nexport const useProgress = () => {\r\n  return useContext(ProgressContext);\r\n};\r\n\r\nexport const ProgressProvider = ({ children }) => {\r\n  const [progress, setProgress] = useState(() => {\r\n    const savedProgress = localStorage.getItem('language-learning-progress');\r\n    return savedProgress ? JSON.parse(savedProgress) : {};\r\n  });\r\n\r\n  // Save progress to local storage whenever it changes\r\n  useEffect(() => {\r\n    localStorage.setItem('language-learning-progress', JSON.stringify(progress));\r\n  }, [progress]);\r\n\r\n  // Update quiz results\r\n  const updateQuizResult = (topicId, score, totalQuestions) => {\r\n    setProgress(prevProgress => {\r\n      const topicProgress = prevProgress[topicId] || { \r\n        completed: false, \r\n        scores: [] \r\n      };\r\n      \r\n      return {\r\n        ...prevProgress,\r\n        [topicId]: {\r\n          ...topicProgress,\r\n          completed: true,\r\n          scores: [...topicProgress.scores, { \r\n            score, \r\n            totalQuestions, \r\n            date: new Date().toISOString() \r\n          }]\r\n        }\r\n      };\r\n    });\r\n  };\r\n\r\n  // Get topic progress\r\n  const getTopicProgress = (topicId) => {\r\n    return progress[topicId] || { completed: false, scores: [] };\r\n  };\r\n\r\n  // Get overall progress\r\n  const getOverallProgress = (topics) => {\r\n    const totalTopics = topics.length;\r\n    const completedTopics = topics.filter(topic => \r\n      progress[topic.id] && progress[topic.id].completed\r\n    ).length;\r\n    \r\n    return {\r\n      completedTopics,\r\n      totalTopics,\r\n      percentage: totalTopics > 0 ? (completedTopics / totalTopics) * 100 : 0\r\n    };\r\n  };\r\n\r\n  const value = {\r\n    progress,\r\n    updateQuizResult,\r\n    getTopicProgress,\r\n    getOverallProgress\r\n  };\r\n\r\n  return (\r\n    <ProgressContext.Provider value={value}>\r\n      {children}\r\n    </ProgressContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9E,KAAM,CAAAC,eAAe,cAAGN,aAAa,CAAC,CAAC,CAEvC,MAAO,MAAM,CAAAO,WAAW,CAAGA,CAAA,GAAM,CAC/B,MAAO,CAAAN,UAAU,CAACK,eAAe,CAAC,CACpC,CAAC,CAED,MAAO,MAAM,CAAAE,gBAAgB,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC3C,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,IAAM,CAC7C,KAAM,CAAAW,aAAa,CAAGC,YAAY,CAACC,OAAO,CAAC,4BAA4B,CAAC,CACxE,MAAO,CAAAF,aAAa,CAAGG,IAAI,CAACC,KAAK,CAACJ,aAAa,CAAC,CAAG,CAAC,CAAC,CACvD,CAAC,CAAC,CAEF;AACAV,SAAS,CAAC,IAAM,CACdW,YAAY,CAACI,OAAO,CAAC,4BAA4B,CAAEF,IAAI,CAACG,SAAS,CAACR,QAAQ,CAAC,CAAC,CAC9E,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd;AACA,KAAM,CAAAS,gBAAgB,CAAGA,CAACC,OAAO,CAAEC,KAAK,CAAEC,cAAc,GAAK,CAC3DX,WAAW,CAACY,YAAY,EAAI,CAC1B,KAAM,CAAAC,aAAa,CAAGD,YAAY,CAACH,OAAO,CAAC,EAAI,CAC7CK,SAAS,CAAE,KAAK,CAChBC,MAAM,CAAE,EACV,CAAC,CAED,MAAO,CACL,GAAGH,YAAY,CACf,CAACH,OAAO,EAAG,CACT,GAAGI,aAAa,CAChBC,SAAS,CAAE,IAAI,CACfC,MAAM,CAAE,CAAC,GAAGF,aAAa,CAACE,MAAM,CAAE,CAChCL,KAAK,CACLC,cAAc,CACdK,IAAI,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAC/B,CAAC,CACH,CACF,CAAC,CACH,CAAC,CAAC,CACJ,CAAC,CAED;AACA,KAAM,CAAAC,gBAAgB,CAAIV,OAAO,EAAK,CACpC,MAAO,CAAAV,QAAQ,CAACU,OAAO,CAAC,EAAI,CAAEK,SAAS,CAAE,KAAK,CAAEC,MAAM,CAAE,EAAG,CAAC,CAC9D,CAAC,CAED;AACA,KAAM,CAAAK,kBAAkB,CAAIC,MAAM,EAAK,CACrC,KAAM,CAAAC,WAAW,CAAGD,MAAM,CAACE,MAAM,CACjC,KAAM,CAAAC,eAAe,CAAGH,MAAM,CAACI,MAAM,CAACC,KAAK,EACzC3B,QAAQ,CAAC2B,KAAK,CAACC,EAAE,CAAC,EAAI5B,QAAQ,CAAC2B,KAAK,CAACC,EAAE,CAAC,CAACb,SAC3C,CAAC,CAACS,MAAM,CAER,MAAO,CACLC,eAAe,CACfF,WAAW,CACXM,UAAU,CAAEN,WAAW,CAAG,CAAC,CAAIE,eAAe,CAAGF,WAAW,CAAI,GAAG,CAAG,CACxE,CAAC,CACH,CAAC,CAED,KAAM,CAAAO,KAAK,CAAG,CACZ9B,QAAQ,CACRS,gBAAgB,CAChBW,gBAAgB,CAChBC,kBACF,CAAC,CAED,mBACE3B,IAAA,CAACC,eAAe,CAACoC,QAAQ,EAACD,KAAK,CAAEA,KAAM,CAAA/B,QAAA,CACpCA,QAAQ,CACe,CAAC,CAE/B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}