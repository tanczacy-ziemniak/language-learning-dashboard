{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ajoon\\\\OneDrive\\\\\\uBB38\\uC11C\\\\GitHub\\\\language-learning-dashboard\\\\src\\\\components\\\\QuizPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport styles from './QuizPage.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuizPage = () => {\n  _s();\n  const location = useLocation();\n  const queryParams = new URLSearchParams(location.search);\n  const initialQuizType = queryParams.get('type') || 'word';\n  const quizMode = queryParams.get('mode') || '20'; // '20', 'all', or 'review'\n\n  const [quizType, setQuizType] = useState(initialQuizType); // 'word' or 'expression'\n  const [words, setWords] = useState([]);\n  const [expressions, setExpressions] = useState([]);\n  const [wrongAnswers, setWrongAnswers] = useState({\n    words: [],\n    expressions: []\n  });\n  const [currentQuiz, setCurrentQuiz] = useState([]);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [isAnswered, setIsAnswered] = useState(false);\n  const [score, setScore] = useState(0);\n  const [showResults, setShowResults] = useState(false);\n  const [wrongAnswersInCurrentQuiz, setWrongAnswersInCurrentQuiz] = useState([]);\n\n  // Load words, expressions, and wrong answers from localStorage\n  useEffect(() => {\n    // Load words\n    const savedWords = localStorage.getItem('polish-words');\n    if (savedWords) {\n      setWords(JSON.parse(savedWords));\n    }\n\n    // Load expressions\n    const savedExpressions = localStorage.getItem('polish-expressions');\n    if (savedExpressions) {\n      setExpressions(JSON.parse(savedExpressions));\n    }\n\n    // Load wrong answers\n    const savedWrongAnswers = localStorage.getItem('polish-wrong-answers');\n    if (savedWrongAnswers) {\n      setWrongAnswers(JSON.parse(savedWrongAnswers));\n    }\n  }, []);\n\n  // Prepare quiz when quiz type changes or data is loaded\n  useEffect(() => {\n    prepareQuiz();\n  }, [quizType, words, expressions, wrongAnswers, quizMode]);\n\n  // Function to prepare a new quiz\n  const prepareQuiz = () => {\n    let items = quizType === 'word' ? words : expressions;\n    let quizItems = [];\n\n    // Need at least 5 items to generate a quiz with 4 options\n    if (items.length < 5) {\n      setCurrentQuiz([]);\n      return;\n    }\n\n    // Select items based on quiz mode\n    if (quizMode === 'review') {\n      const reviewItems = quizType === 'word' ? wrongAnswers.words : wrongAnswers.expressions;\n      if (reviewItems.length === 0) {\n        // Not enough review items, fall back to regular mode\n        quizItems = [...items].sort(() => 0.5 - Math.random());\n      } else {\n        // Find the actual items from the words/expressions arrays\n        quizItems = [];\n        reviewItems.forEach(reviewItem => {\n          const foundItem = items.find(item => item.id === reviewItem.id);\n          if (foundItem) {\n            quizItems.push(foundItem);\n          }\n        });\n\n        // Ensure we have at least 5 items\n        if (quizItems.length < 5) {\n          // Add some random items to make up the difference\n          const otherItems = items.filter(item => !quizItems.some(qi => qi.id === item.id)).sort(() => 0.5 - Math.random());\n          quizItems = [...quizItems, ...otherItems.slice(0, 5 - quizItems.length)];\n        }\n\n        // Shuffle the review items\n        quizItems = quizItems.sort(() => 0.5 - Math.random());\n      }\n    } else {\n      // Regular mode or all mode - shuffle the items\n      quizItems = [...items].sort(() => 0.5 - Math.random());\n    }\n\n    // For '20' mode, take only 20 items (or all if less than 20)\n    if (quizMode === '20' && quizItems.length > 20) {\n      quizItems = quizItems.slice(0, 20);\n    }\n\n    // Create quiz questions\n    const quiz = quizItems.map(item => {\n      // Get 3 random incorrect options\n      const otherItems = items.filter(i => i.id !== item.id);\n      const shuffledOthers = [...otherItems].sort(() => 0.5 - Math.random()).slice(0, 3);\n\n      // Create options including the correct answer\n      const options = [{\n        id: item.id,\n        text: item.english\n      }, ...shuffledOthers.map(i => ({\n        id: i.id,\n        text: i.english\n      }))];\n\n      // Shuffle options\n      const shuffledOptions = options.sort(() => 0.5 - Math.random());\n      return {\n        id: item.id,\n        itemId: item.id,\n        polish: item.polish,\n        english: item.english,\n        question: item.polish,\n        options: shuffledOptions,\n        correctAnswer: item.english\n      };\n    });\n    setCurrentQuiz(quiz);\n    setCurrentQuestionIndex(0);\n    setSelectedAnswer(null);\n    setIsAnswered(false);\n    setScore(0);\n    setShowResults(false);\n    setWrongAnswersInCurrentQuiz([]);\n  };\n  const handleAnswerSelect = option => {\n    if (isAnswered) return;\n    setSelectedAnswer(option);\n    setIsAnswered(true);\n    const currentQuestion = currentQuiz[currentQuestionIndex];\n    if (option.text === currentQuestion.correctAnswer) {\n      setScore(prev => prev + 1);\n    } else {\n      // Track wrong answers for later review\n      setWrongAnswersInCurrentQuiz(prev => [...prev, {\n        id: currentQuestion.itemId,\n        polish: currentQuestion.polish,\n        english: currentQuestion.english\n      }]);\n    }\n  };\n  const handleNextQuestion = () => {\n    if (currentQuestionIndex < currentQuiz.length - 1) {\n      setCurrentQuestionIndex(prev => prev + 1);\n      setSelectedAnswer(null);\n      setIsAnswered(false);\n    } else {\n      setShowResults(true);\n      updateWrongAnswersStats();\n    }\n  };\n  const updateWrongAnswersStats = () => {\n    // Update wrong answers in local storage for review later\n    if (wrongAnswersInCurrentQuiz.length === 0) return;\n    const type = quizType === 'word' ? 'words' : 'expressions';\n    const currentWrongAnswers = [...wrongAnswers[type]];\n    wrongAnswersInCurrentQuiz.forEach(wrongItem => {\n      const existingIndex = currentWrongAnswers.findIndex(item => item.id === wrongItem.id);\n      if (existingIndex >= 0) {\n        // Increment count for existing wrong answer\n        currentWrongAnswers[existingIndex].count += 1;\n      } else {\n        // Add new wrong answer\n        currentWrongAnswers.push({\n          id: wrongItem.id,\n          polish: wrongItem.polish,\n          english: wrongItem.english,\n          count: 1\n        });\n      }\n    });\n\n    // Sort by count (highest first)\n    currentWrongAnswers.sort((a, b) => b.count - a.count);\n\n    // Update state and local storage\n    const newWrongAnswers = {\n      ...wrongAnswers,\n      [type]: currentWrongAnswers\n    };\n    setWrongAnswers(newWrongAnswers);\n    localStorage.setItem('polish-wrong-answers', JSON.stringify(newWrongAnswers));\n  };\n  const startNewQuiz = () => {\n    prepareQuiz();\n  };\n\n  // If there aren't enough items for a quiz\n  if (quizType === 'word' && words.length < 5 || quizType === 'expression' && expressions.length < 5) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.quizPage,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.header,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Polish Learning Quiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Test your knowledge of Polish words and expressions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.quizTypeSelector,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `${styles.quizTypeButton} ${quizType === 'word' ? styles.active : ''}`,\n          onClick: () => setQuizType('word'),\n          children: \"Words Quiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `${styles.quizTypeButton} ${quizType === 'expression' ? styles.active : ''}`,\n          onClick: () => setQuizType('expression'),\n          children: \"Expressions Quiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Not Enough Content for Quiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"You need at least 5 \", quizType === 'word' ? 'words' : 'expressions', \" to create a quiz.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Current count: \", quizType === 'word' ? words.length : expressions.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: quizType === 'word' ? '/content-manager' : '/content-manager?tab=expression',\n          className: \"btn btn-primary\",\n          children: [\"Add more \", quizType === 'word' ? 'words' : 'expressions']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this);\n  }\n\n  // If showing quiz results\n  if (showResults) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.quizPage,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.header,\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Quiz Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.resultsCard,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Your Score: \", score, \"/\", currentQuiz.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.scorePercent,\n          children: [Math.round(score / currentQuiz.length * 100), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.resultMessage,\n          children: score === currentQuiz.length ? 'Perfect! You got all questions right!' : score > currentQuiz.length * 0.8 ? 'Great job! Nearly perfect!' : score > currentQuiz.length * 0.6 ? 'Good work! Keep practicing!' : 'Keep studying! You can improve your score!'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), wrongAnswersInCurrentQuiz.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.wrongAnswersList,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Review These Items:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: wrongAnswersInCurrentQuiz.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.reviewPolish,\n                children: item.polish\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.reviewEnglish,\n                children: item.english\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: startNewQuiz,\n          children: \"Start New Quiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Showing current question\n  const currentQuestion = currentQuiz[currentQuestionIndex];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.quizPage,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Polish \", quizType === 'word' ? 'Words' : 'Expressions', \" Quiz\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: quizMode === 'review' ? 'Review Mode' : quizMode === 'all' ? 'All Items Mode' : 'Standard Mode'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.quizTypeSelector,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `${styles.quizTypeButton} ${quizType === 'word' ? styles.active : ''}`,\n        onClick: () => setQuizType('word'),\n        disabled: isAnswered,\n        children: \"Words Quiz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `${styles.quizTypeButton} ${quizType === 'expression' ? styles.active : ''}`,\n        onClick: () => setQuizType('expression'),\n        disabled: isAnswered,\n        children: \"Expressions Quiz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.quizContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.progress,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.progressText,\n          children: [\"Question \", currentQuestionIndex + 1, \" of \", currentQuiz.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.progressBar,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.progressFill,\n            style: {\n              width: `${(currentQuestionIndex + 1) / currentQuiz.length * 100}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.questionCard,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.questionPolish,\n          children: currentQuestion.question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.questionPrompt,\n          children: \"What does this mean?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.options,\n          children: currentQuestion.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `${styles.option} ${selectedAnswer === option ? option.text === currentQuestion.correctAnswer ? styles.correct : styles.incorrect : ''}`,\n            onClick: () => handleAnswerSelect(option),\n            disabled: isAnswered,\n            children: option.text\n          }, option.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), isAnswered && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.feedback,\n          children: [selectedAnswer.text === currentQuestion.correctAnswer ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.correctFeedback,\n            children: \"Correct!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.incorrectFeedback,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Incorrect!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"The correct answer is: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: currentQuestion.correctAnswer\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleNextQuestion,\n            children: currentQuestionIndex < currentQuiz.length - 1 ? 'Next Question' : 'See Results'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.quizScore,\n        children: [\"Current Score: \", score, \"/\", currentQuestionIndex + (isAnswered ? 1 : 0)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 299,\n    columnNumber: 5\n  }, this);\n};\n_s(QuizPage, \"3dlpovvZqApfuX+slTAmmyJQwTQ=\", false, function () {\n  return [useLocation];\n});\n_c = QuizPage;\nexport default QuizPage;\nvar _c;\n$RefreshReg$(_c, \"QuizPage\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","styles","jsxDEV","_jsxDEV","QuizPage","_s","location","queryParams","URLSearchParams","search","initialQuizType","get","quizMode","quizType","setQuizType","words","setWords","expressions","setExpressions","wrongAnswers","setWrongAnswers","currentQuiz","setCurrentQuiz","currentQuestionIndex","setCurrentQuestionIndex","selectedAnswer","setSelectedAnswer","isAnswered","setIsAnswered","score","setScore","showResults","setShowResults","wrongAnswersInCurrentQuiz","setWrongAnswersInCurrentQuiz","savedWords","localStorage","getItem","JSON","parse","savedExpressions","savedWrongAnswers","prepareQuiz","items","quizItems","length","reviewItems","sort","Math","random","forEach","reviewItem","foundItem","find","item","id","push","otherItems","filter","some","qi","slice","quiz","map","i","shuffledOthers","options","text","english","shuffledOptions","itemId","polish","question","correctAnswer","handleAnswerSelect","option","currentQuestion","prev","handleNextQuestion","updateWrongAnswersStats","type","currentWrongAnswers","wrongItem","existingIndex","findIndex","count","a","b","newWrongAnswers","setItem","stringify","startNewQuiz","className","quizPage","children","header","fileName","_jsxFileName","lineNumber","columnNumber","quizTypeSelector","quizTypeButton","active","onClick","href","resultsCard","scorePercent","round","resultMessage","wrongAnswersList","index","reviewPolish","reviewEnglish","disabled","quizContainer","progress","progressText","progressBar","progressFill","style","width","questionCard","questionPolish","questionPrompt","correct","incorrect","feedback","correctFeedback","incorrectFeedback","quizScore","_c","$RefreshReg$"],"sources":["C:/Users/ajoon/OneDrive/문서/GitHub/language-learning-dashboard/src/components/QuizPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport styles from './QuizPage.module.css';\r\n\r\nconst QuizPage = () => {\r\n  const location = useLocation();\r\n  const queryParams = new URLSearchParams(location.search);\r\n  const initialQuizType = queryParams.get('type') || 'word';\r\n  const quizMode = queryParams.get('mode') || '20'; // '20', 'all', or 'review'\r\n  \r\n  const [quizType, setQuizType] = useState(initialQuizType); // 'word' or 'expression'\r\n  const [words, setWords] = useState([]);\r\n  const [expressions, setExpressions] = useState([]);\r\n  const [wrongAnswers, setWrongAnswers] = useState({ words: [], expressions: [] });\r\n  const [currentQuiz, setCurrentQuiz] = useState([]);\r\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\r\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\r\n  const [isAnswered, setIsAnswered] = useState(false);\r\n  const [score, setScore] = useState(0);\r\n  const [showResults, setShowResults] = useState(false);\r\n  const [wrongAnswersInCurrentQuiz, setWrongAnswersInCurrentQuiz] = useState([]);\r\n  \r\n  // Load words, expressions, and wrong answers from localStorage\r\n  useEffect(() => {\r\n    // Load words\r\n    const savedWords = localStorage.getItem('polish-words');\r\n    if (savedWords) {\r\n      setWords(JSON.parse(savedWords));\r\n    }\r\n    \r\n    // Load expressions\r\n    const savedExpressions = localStorage.getItem('polish-expressions');\r\n    if (savedExpressions) {\r\n      setExpressions(JSON.parse(savedExpressions));\r\n    }\r\n    \r\n    // Load wrong answers\r\n    const savedWrongAnswers = localStorage.getItem('polish-wrong-answers');\r\n    if (savedWrongAnswers) {\r\n      setWrongAnswers(JSON.parse(savedWrongAnswers));\r\n    }\r\n  }, []);\r\n  \r\n  // Prepare quiz when quiz type changes or data is loaded\r\n  useEffect(() => {\r\n    prepareQuiz();\r\n  }, [quizType, words, expressions, wrongAnswers, quizMode]);\r\n  \r\n  // Function to prepare a new quiz\r\n  const prepareQuiz = () => {\r\n    let items = quizType === 'word' ? words : expressions;\r\n    let quizItems = [];\r\n    \r\n    // Need at least 5 items to generate a quiz with 4 options\r\n    if (items.length < 5) {\r\n      setCurrentQuiz([]);\r\n      return;\r\n    }\r\n    \r\n    // Select items based on quiz mode\r\n    if (quizMode === 'review') {\r\n      const reviewItems = quizType === 'word' ? wrongAnswers.words : wrongAnswers.expressions;\r\n      \r\n      if (reviewItems.length === 0) {\r\n        // Not enough review items, fall back to regular mode\r\n        quizItems = [...items].sort(() => 0.5 - Math.random());\r\n      } else {\r\n        // Find the actual items from the words/expressions arrays\r\n        quizItems = [];\r\n        reviewItems.forEach(reviewItem => {\r\n          const foundItem = items.find(item => item.id === reviewItem.id);\r\n          if (foundItem) {\r\n            quizItems.push(foundItem);\r\n          }\r\n        });\r\n        \r\n        // Ensure we have at least 5 items\r\n        if (quizItems.length < 5) {\r\n          // Add some random items to make up the difference\r\n          const otherItems = items.filter(item => \r\n            !quizItems.some(qi => qi.id === item.id)\r\n          ).sort(() => 0.5 - Math.random());\r\n          \r\n          quizItems = [...quizItems, ...otherItems.slice(0, 5 - quizItems.length)];\r\n        }\r\n        \r\n        // Shuffle the review items\r\n        quizItems = quizItems.sort(() => 0.5 - Math.random());\r\n      }\r\n    } else {\r\n      // Regular mode or all mode - shuffle the items\r\n      quizItems = [...items].sort(() => 0.5 - Math.random());\r\n    }\r\n    \r\n    // For '20' mode, take only 20 items (or all if less than 20)\r\n    if (quizMode === '20' && quizItems.length > 20) {\r\n      quizItems = quizItems.slice(0, 20);\r\n    }\r\n    \r\n    // Create quiz questions\r\n    const quiz = quizItems.map(item => {\r\n      // Get 3 random incorrect options\r\n      const otherItems = items.filter(i => i.id !== item.id);\r\n      const shuffledOthers = [...otherItems].sort(() => 0.5 - Math.random()).slice(0, 3);\r\n      \r\n      // Create options including the correct answer\r\n      const options = [\r\n        { id: item.id, text: item.english },\r\n        ...shuffledOthers.map(i => ({ id: i.id, text: i.english }))\r\n      ];\r\n      \r\n      // Shuffle options\r\n      const shuffledOptions = options.sort(() => 0.5 - Math.random());\r\n      \r\n      return {\r\n        id: item.id,\r\n        itemId: item.id,\r\n        polish: item.polish,\r\n        english: item.english,\r\n        question: item.polish,\r\n        options: shuffledOptions,\r\n        correctAnswer: item.english\r\n      };\r\n    });\r\n    \r\n    setCurrentQuiz(quiz);\r\n    setCurrentQuestionIndex(0);\r\n    setSelectedAnswer(null);\r\n    setIsAnswered(false);\r\n    setScore(0);\r\n    setShowResults(false);\r\n    setWrongAnswersInCurrentQuiz([]);\r\n  };\r\n  \r\n  const handleAnswerSelect = (option) => {\r\n    if (isAnswered) return;\r\n    \r\n    setSelectedAnswer(option);\r\n    setIsAnswered(true);\r\n    \r\n    const currentQuestion = currentQuiz[currentQuestionIndex];\r\n    if (option.text === currentQuestion.correctAnswer) {\r\n      setScore(prev => prev + 1);\r\n    } else {\r\n      // Track wrong answers for later review\r\n      setWrongAnswersInCurrentQuiz(prev => [\r\n        ...prev, \r\n        {\r\n          id: currentQuestion.itemId,\r\n          polish: currentQuestion.polish,\r\n          english: currentQuestion.english\r\n        }\r\n      ]);\r\n    }\r\n  };\r\n  \r\n  const handleNextQuestion = () => {\r\n    if (currentQuestionIndex < currentQuiz.length - 1) {\r\n      setCurrentQuestionIndex(prev => prev + 1);\r\n      setSelectedAnswer(null);\r\n      setIsAnswered(false);\r\n    } else {\r\n      setShowResults(true);\r\n      updateWrongAnswersStats();\r\n    }\r\n  };\r\n  \r\n  const updateWrongAnswersStats = () => {\r\n    // Update wrong answers in local storage for review later\r\n    if (wrongAnswersInCurrentQuiz.length === 0) return;\r\n    \r\n    const type = quizType === 'word' ? 'words' : 'expressions';\r\n    const currentWrongAnswers = [...wrongAnswers[type]];\r\n    \r\n    wrongAnswersInCurrentQuiz.forEach(wrongItem => {\r\n      const existingIndex = currentWrongAnswers.findIndex(item => item.id === wrongItem.id);\r\n      \r\n      if (existingIndex >= 0) {\r\n        // Increment count for existing wrong answer\r\n        currentWrongAnswers[existingIndex].count += 1;\r\n      } else {\r\n        // Add new wrong answer\r\n        currentWrongAnswers.push({\r\n          id: wrongItem.id,\r\n          polish: wrongItem.polish,\r\n          english: wrongItem.english,\r\n          count: 1\r\n        });\r\n      }\r\n    });\r\n    \r\n    // Sort by count (highest first)\r\n    currentWrongAnswers.sort((a, b) => b.count - a.count);\r\n    \r\n    // Update state and local storage\r\n    const newWrongAnswers = {\r\n      ...wrongAnswers,\r\n      [type]: currentWrongAnswers\r\n    };\r\n    \r\n    setWrongAnswers(newWrongAnswers);\r\n    localStorage.setItem('polish-wrong-answers', JSON.stringify(newWrongAnswers));\r\n  };\r\n  \r\n  const startNewQuiz = () => {\r\n    prepareQuiz();\r\n  };\r\n  \r\n  // If there aren't enough items for a quiz\r\n  if ((quizType === 'word' && words.length < 5) || \r\n      (quizType === 'expression' && expressions.length < 5)) {\r\n    return (\r\n      <div className={styles.quizPage}>\r\n        <div className={styles.header}>\r\n          <h1>Polish Learning Quiz</h1>\r\n          <p>Test your knowledge of Polish words and expressions</p>\r\n        </div>\r\n        \r\n        <div className={styles.quizTypeSelector}>\r\n          <button \r\n            className={`${styles.quizTypeButton} ${quizType === 'word' ? styles.active : ''}`}\r\n            onClick={() => setQuizType('word')}\r\n          >\r\n            Words Quiz\r\n          </button>\r\n          <button \r\n            className={`${styles.quizTypeButton} ${quizType === 'expression' ? styles.active : ''}`}\r\n            onClick={() => setQuizType('expression')}\r\n          >\r\n            Expressions Quiz\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"card\">\r\n          <h3>Not Enough Content for Quiz</h3>\r\n          <p>You need at least 5 {quizType === 'word' ? 'words' : 'expressions'} to create a quiz.</p>\r\n          <p>Current count: {quizType === 'word' ? words.length : expressions.length}</p>\r\n          <a \r\n            href={quizType === 'word' ? '/content-manager' : '/content-manager?tab=expression'}\r\n            className=\"btn btn-primary\"\r\n          >\r\n            Add more {quizType === 'word' ? 'words' : 'expressions'}\r\n          </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  // If showing quiz results\r\n  if (showResults) {\r\n    return (\r\n      <div className={styles.quizPage}>\r\n        <div className={styles.header}>\r\n          <h1>Quiz Results</h1>\r\n        </div>\r\n        \r\n        <div className={styles.resultsCard}>\r\n          <h2>Your Score: {score}/{currentQuiz.length}</h2>\r\n          <div className={styles.scorePercent}>\r\n            {Math.round((score / currentQuiz.length) * 100)}%\r\n          </div>\r\n          \r\n          <div className={styles.resultMessage}>\r\n            {score === currentQuiz.length ? \r\n              'Perfect! You got all questions right!' : \r\n              score > currentQuiz.length * 0.8 ?\r\n                'Great job! Nearly perfect!' :\r\n                score > currentQuiz.length * 0.6 ?\r\n                  'Good work! Keep practicing!' :\r\n                  'Keep studying! You can improve your score!'}\r\n          </div>\r\n          \r\n          {wrongAnswersInCurrentQuiz.length > 0 && (\r\n            <div className={styles.wrongAnswersList}>\r\n              <h3>Review These Items:</h3>\r\n              <ul>\r\n                {wrongAnswersInCurrentQuiz.map((item, index) => (\r\n                  <li key={index}>\r\n                    <span className={styles.reviewPolish}>{item.polish}</span>\r\n                    <span className={styles.reviewEnglish}>{item.english}</span>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n          \r\n          <button className=\"btn btn-primary\" onClick={startNewQuiz}>\r\n            Start New Quiz\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  // Showing current question\r\n  const currentQuestion = currentQuiz[currentQuestionIndex];\r\n  \r\n  return (\r\n    <div className={styles.quizPage}>\r\n      <div className={styles.header}>\r\n        <h1>Polish {quizType === 'word' ? 'Words' : 'Expressions'} Quiz</h1>\r\n        <p>{quizMode === 'review' ? 'Review Mode' : \r\n            quizMode === 'all' ? 'All Items Mode' : 'Standard Mode'}</p>\r\n      </div>\r\n      \r\n      <div className={styles.quizTypeSelector}>\r\n        <button \r\n          className={`${styles.quizTypeButton} ${quizType === 'word' ? styles.active : ''}`}\r\n          onClick={() => setQuizType('word')}\r\n          disabled={isAnswered}\r\n        >\r\n          Words Quiz\r\n        </button>\r\n        <button \r\n          className={`${styles.quizTypeButton} ${quizType === 'expression' ? styles.active : ''}`}\r\n          onClick={() => setQuizType('expression')}\r\n          disabled={isAnswered}\r\n        >\r\n          Expressions Quiz\r\n        </button>\r\n      </div>\r\n      \r\n      <div className={styles.quizContainer}>\r\n        <div className={styles.progress}>\r\n          <div className={styles.progressText}>\r\n            Question {currentQuestionIndex + 1} of {currentQuiz.length}\r\n          </div>\r\n          <div className={styles.progressBar}>\r\n            <div \r\n              className={styles.progressFill} \r\n              style={{ width: `${((currentQuestionIndex + 1) / currentQuiz.length) * 100}%` }}\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className={styles.questionCard}>\r\n          <div className={styles.questionPolish}>{currentQuestion.question}</div>\r\n          <div className={styles.questionPrompt}>What does this mean?</div>\r\n          \r\n          <div className={styles.options}>\r\n            {currentQuestion.options.map((option, index) => (\r\n              <button \r\n                key={option.id}\r\n                className={`${styles.option} ${\r\n                  selectedAnswer === option ? \r\n                    (option.text === currentQuestion.correctAnswer ? styles.correct : styles.incorrect) : \r\n                    ''\r\n                }`}\r\n                onClick={() => handleAnswerSelect(option)}\r\n                disabled={isAnswered}\r\n              >\r\n                {option.text}\r\n              </button>\r\n            ))}\r\n          </div>\r\n          \r\n          {isAnswered && (\r\n            <div className={styles.feedback}>\r\n              {selectedAnswer.text === currentQuestion.correctAnswer ? (\r\n                <div className={styles.correctFeedback}>Correct!</div>\r\n              ) : (\r\n                <div className={styles.incorrectFeedback}>\r\n                  <p>Incorrect!</p>\r\n                  <p>The correct answer is: <strong>{currentQuestion.correctAnswer}</strong></p>\r\n                </div>\r\n              )}\r\n              \r\n              <button className=\"btn btn-primary\" onClick={handleNextQuestion}>\r\n                {currentQuestionIndex < currentQuiz.length - 1 ? 'Next Question' : 'See Results'}\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className={styles.quizScore}>\r\n          Current Score: {score}/{currentQuestionIndex + (isAnswered ? 1 : 0)}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuizPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}